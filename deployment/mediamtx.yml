# MediaMTX Configuration for RAF NET CCTV Production
# STABLE MODE - Compatible with H265 cameras

logLevel: warn
logDestinations: [stdout]

# API settings
api: yes
apiAddress: 127.0.0.1:9997

# ============================================
# HLS Settings - STABLE MODE (mpegts)
# mpegts works with H265, lowLatency does NOT
# ============================================
hls: yes
hlsAddress: :8888
hlsAlwaysRemux: yes
hlsVariant: mpegts
hlsSegmentCount: 3
hlsSegmentDuration: 1s
hlsSegmentMaxSize: 50M
hlsAllowOrigin: '*'

# ============================================
# WebRTC Settings
# ============================================
webrtc: yes
webrtcAddress: :8889
webrtcLocalUDPAddress: :8189
webrtcAllowOrigin: '*'

# ============================================
# RTSP/RTMP Settings
# ============================================
rtsp: yes
rtspAddress: :8554
rtmp: yes
rtmpAddress: :1935

# ============================================
# Path defaults
# ============================================
pathDefaults:
  record: no

paths:
  all_others: {}
