# MediaMTX Configuration for RAF NET CCTV Production

# Logging
logLevel: info
logDestinations: [stdout]

# API for backend management
api: yes
apiAddress: :9997

# HLS settings - STANDARD MODE (Stability Priority)
hls: yes
hlsAddress: :8888
hlsAlwaysRemux: yes
hlsAllowOrigin: '*'
# Segment duration: 2s (sweet spot for stability + reasonable latency)
hlsSegmentDuration: 2s
# Segment count: 15 (extended buffer for network resilience)
# History: 15 segments Ã— 2s = 30s (prevents 404 during client network dropouts)
hlsSegmentCount: 15
# RAM Disk storage for instant access
hlsDirectory: /dev/shm/mediamtx-live
# NOTE: hlsPartDuration REMOVED - No LL-HLS (reduces CPU load)

# WebRTC settings
webrtc: yes
webrtcAddress: :8889
webrtcAllowOrigin: '*'

# RTMP settings
rtmp: yes
rtmpAddress: :1935

# RTSP settings
rtsp: yes
rtspAddress: :8554

# Path configurations managed by backend
paths:
  all_others: {}
