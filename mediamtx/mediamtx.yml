# MediaMTX Configuration for RAF NET CCTV Production

# Logging
logLevel: info
logDestinations: [stdout]

# API for backend management
api: yes
apiAddress: :9997

# HLS settings - STANDARD MODE (Stability Priority)
hls: yes
hlsAddress: :8888
hlsAlwaysRemux: yes
hlsAllowOrigin: '*'
# Segment duration: 2s (sweet spot for stability + reasonable latency)
hlsSegmentDuration: 2s
# Segment count: 10 (balanced for stability - 20s buffer)
# History: 10 segments Ã— 2s = 20s (increased from 7 for better stability on unstable connections)
hlsSegmentCount: 10
# RAM Disk storage for instant access
hlsDirectory: /dev/shm/mediamtx-live
# NOTE: hlsPartDuration REMOVED - No LL-HLS (reduces CPU load)

# WebRTC settings
webrtc: yes
webrtcAddress: :8889
webrtcAllowOrigin: '*'

# RTMP settings
rtmp: yes
rtmpAddress: :1935

# RTSP settings
rtsp: yes
rtspAddress: :8554

# Path configurations managed by backend
paths:
  all_others: {}
